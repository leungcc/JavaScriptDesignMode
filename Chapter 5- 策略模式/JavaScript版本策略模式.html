<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JavaScript版本的策略模式</title>
</head>
<body>
    
<script>

// 在 JavaScript 语言中，函数也是对象，所以更简单和直接的做法是把 strategy 直接定义为函数
var strategy = {
    "S": function(salary) {
        return salary * 4;
    },
    "A": function(salary) {
        return salary * 3;
    },
    "B": function(salary) {
        return salary * 2;
    }
}
// 同样，Context也没必要必须要用 Bonus 类来表示，
// 我们依然用 calculateBonus 函数充当 Context 来接受用户的请求
var calculateBonus = function(level, salary) {
    return strategy[level](salary);
}

console.log(calculateBonus("S", 20000));
console.log(calculateBonus("A", 10000));

</script>
</body>
</html>