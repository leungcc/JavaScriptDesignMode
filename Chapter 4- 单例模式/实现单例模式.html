<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>实现单例模式</title>
</head>
<body>
<script>
// 要实现一个标准的单例模式并不复杂，无非是用一个变量来标志当前是否已经为某个类创建过对象，
// 如果是，在下一次获取该类的实例时，直接返回之前创建好的对象
var Singleton = function(name) {
    this.name = name;
}
Singleton.prototype.getName = function() {
    console.log(this.name);
}
Singleton.getInstance = function(name) {
    if(!this.instance) {
        this.instance = new Singleton(name);
    }
    return this.instance;
}

var a = Singleton.getInstance("xc");
var b = Singleton.getInstance("haha");
console.log(a == b) //true

// 我们通过 Singleton.getInstance 来获取 Singleton 类的唯一对象，
// 这种方式相对简单，但有一个问题，就是增加这个类的不透明性，使用者必须知道 getInstance 来创建实例
</script>
</body>
</html>